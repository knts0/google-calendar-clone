<div class="weekly-calendar-table">
  <!--  week days-->
  <div class="weekly-calendar-table-header">
    <div class="weekly-calendar-table-header__blank">
    </div>
    <div class="weekly-calendar-table-header__days" *ngFor="let item of days">
      <div class="weekday">{{ item.weekday }}</div>
      <div class="day">{{ item.day | date: 'd' }}</div>
    </div>
  </div>

  <!-- days -->
  <div class="weekly-calendar-week">
    <div class="weekly-calendar-hours">
      <div class="weekly-calendar-hour" *ngFor="let hour of hours" class="weekly-calendar-hour">
        <div class="weekly-calendar-hour__text">{{ hour | number: '2.0-0' }}:00</div>
      </div>
    </div>
    <div
      class="weekly-calendar-timeline"
    >
      <div
        class="weekly-calendar-timeline__day"
        *ngFor="let item of days"
      >
        <!-- (mouseenter)  = "onMouseEnter(item)" -->
        <!-- for detecting mouse events -->
        <div class="weekly-calendar-timeline__detecting-mouse-events"
          (mousedown) = "onMouseDown($event, item)"
          (mouseup)   = "onMouseUp($event, item)"
          (mousemove) = "onMouseMove($event)"
        ></div>

        <!-- <div
          class        = "weekly-calendar-timeline__time-frame"
          *ngFor       = "let hour of hours"
          (click)     = "onClickTimeFrame(item, hour)"
        >
        </div> -->

        <!-- Preview event -->
        <div
          class="weekly-calendar-timeline__preview-event"
          *ngIf   = "newEventPreview != null && item.day === newEventPreview.day"
          [style.top.px] = "newEventPreview.style.top"
          [style.height.px]= "newEventPreview.style.height"
        >
          <!-- プレビュー -->
        </div>
        <div
          *ngFor  = "let event of item.events"
          class   = "weekly-calendar-timeline__event"
          [style] = "getStyleOfEvent(event)"
        >
          {{ event.title }}
        </div>
      </div>
    </div>
  </div>
</div>
